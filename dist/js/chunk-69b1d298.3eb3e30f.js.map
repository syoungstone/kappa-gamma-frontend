{"version":3,"sources":["webpack:///./src/views/Directory.vue?d676","webpack:///./src/views/Directory.vue?d832","webpack:///src/views/Directory.vue","webpack:///./src/views/Directory.vue?a122","webpack:///./src/views/Directory.vue?a03a","webpack:///./src/components/LoadingSpinner.vue?ff24","webpack:///./src/components/LoadingSpinner.vue?ffa8","webpack:///src/components/LoadingSpinner.vue","webpack:///./src/components/LoadingSpinner.vue?4010","webpack:///./src/components/LoadingSpinner.vue?09c7"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","ref","on","$event","deletePledge","scopedSlots","_u","key","fn","cancel","ok","_s","toDeleteName","model","value","callback","$$v","filter","expression","showFilters","isPledgeOptions","isPledge","brotherStatusOptions","brotherStatus","pledgeClassOptions","pledgeClass","majorOptions","major","gradYearOptions","gradYear","_e","narrowedData","fields","filter_included_fields","currentPage","perPage","onFiltered","row","viewStudent","item","id","$store","state","position","editStudent","is_pledge","prepareDeletion","name_first","name_last","totalRows","staticRenderFns","components","LoadingSpinner","created","getStudents","computed","data","filterData","response","error","loaded","toDeleteId","methods","getFirstEmail","i","email","emails","split","appendGradYears","Date","getFullYear","push","getPledgeClasses","accept","student","grad_year","pledge_class","brother_status","majors","includes","console","log","filteredItems","length","$router","firstName","lastName","$bvModal","show","component","staticStyle","name"],"mappings":"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","file":"js/chunk-69b1d298.3eb3e30f.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Directory.vue?vue&type=style&index=0&id=c823cf4e&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"wide-wrapper\"},[_c('h1',[_vm._v(\"Directory\")]),(_vm.loaded)?_c('div',{attrs:{\"id\":\"contents\"}},[_c('b-modal',{ref:\"modal\",attrs:{\"id\":\"delete-pledge-modal\",\"title\":\"Delete Pledge\"},on:{\"ok\":function($event){return _vm.deletePledge()}},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\nvar cancel = ref.cancel;\nvar ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return cancel()}}},[_vm._v(\" Cancel \")]),_c('b-button',{attrs:{\"size\":\"sm\",\"variant\":\"danger\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\" Delete \")])]}}],null,false,1030801785)},[_c('p',[_vm._v(\" Are you sure you want to delete pledge \"+_vm._s(this.toDeleteName)+\"? This action cannot be undone. \")])]),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"7\",\"md\":\"6\"}},[_c('b-input-group',{attrs:{\"size\":\"sm\",\"id\":\"search\"}},[_c('b-form-input',{attrs:{\"id\":\"filter-input\",\"type\":\"search\",\"placeholder\":\"Type to Search\"},model:{value:(_vm.filter),callback:function ($$v) {_vm.filter=$$v},expression:\"filter\"}}),_c('b-button',{staticClass:\"select-button\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){_vm.showFilters = !_vm.showFilters}}},[_vm._v(_vm._s(_vm.showFilters ? \"Hide Filters\" : \"Show Filters\"))])],1)],1),(_vm.showFilters)?_c('div',{staticClass:\"row justify-content-center filters\"},[_c('b-form-group',{staticClass:\"filter\",attrs:{\"id\":\"input-group-1\",\"label\":\"Pledge/Brother:\",\"label-for\":\"input-1\"}},[_c('b-form-select',{attrs:{\"id\":\"input-1\",\"options\":_vm.isPledgeOptions},model:{value:(_vm.isPledge),callback:function ($$v) {_vm.isPledge=$$v},expression:\"isPledge\"}})],1),_c('b-form-group',{staticClass:\"filter\",attrs:{\"id\":\"input-group-2\",\"label\":\"Status:\",\"label-for\":\"input-2\"}},[_c('b-form-select',{attrs:{\"id\":\"input-2\",\"options\":_vm.brotherStatusOptions},model:{value:(_vm.brotherStatus),callback:function ($$v) {_vm.brotherStatus=$$v},expression:\"brotherStatus\"}})],1),_c('b-form-group',{staticClass:\"filter\",attrs:{\"id\":\"input-group-3\",\"label\":\"Pledge Class:\",\"label-for\":\"input-3\"}},[_c('b-form-select',{attrs:{\"id\":\"input-3\",\"options\":_vm.pledgeClassOptions},model:{value:(_vm.pledgeClass),callback:function ($$v) {_vm.pledgeClass=$$v},expression:\"pledgeClass\"}})],1),_c('b-form-group',{staticClass:\"filter\",attrs:{\"id\":\"input-group-4\",\"label\":\"Major:\",\"label-for\":\"input-4\"}},[_c('b-form-select',{attrs:{\"id\":\"input-4\",\"options\":_vm.majorOptions},model:{value:(_vm.major),callback:function ($$v) {_vm.major=$$v},expression:\"major\"}})],1),_c('b-form-group',{staticClass:\"filter\",attrs:{\"id\":\"input-group-5\",\"label\":\"Grad Year:\",\"label-for\":\"input-5\"}},[_c('b-form-select',{attrs:{\"id\":\"input-5\",\"options\":_vm.gradYearOptions},model:{value:(_vm.gradYear),callback:function ($$v) {_vm.gradYear=$$v},expression:\"gradYear\"}})],1)],1):_vm._e(),_c('b-table',{attrs:{\"striped\":\"\",\"hover\":\"\",\"items\":_vm.narrowedData,\"fields\":_vm.fields,\"filter\":_vm.filter,\"filter-included-fields\":_vm.filter_included_fields,\"stacked\":\"md\",\"show-empty\":\"\",\"current-page\":_vm.currentPage,\"per-page\":_vm.perPage},on:{\"filtered\":_vm.onFiltered},scopedSlots:_vm._u([{key:\"cell(actions)\",fn:function(row){return [_c('b-button',{staticClass:\"select-button\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.viewStudent(row.item.id)}}},[_vm._v(\" View \")]),(_vm.$store.state.position != null)?_c('b-button',{staticClass:\"select-button\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.editStudent(row.item.id)}}},[_vm._v(\" Edit \")]):_vm._e(),(_vm.$store.state.position != null && row.item.is_pledge == 1)?_c('b-button',{staticClass:\"select-button\",attrs:{\"size\":\"sm\"},on:{\"click\":function($event){return _vm.prepareDeletion(\n              row.item.id,\n              row.item.is_pledge,\n              row.item.name_first,\n              row.item.name_last\n            )}}},[_vm._v(\" Delete \")]):_vm._e()]}}],null,false,3022784641)}),_c('b-col',{staticClass:\"my-1\",attrs:{\"sm\":\"7\",\"md\":\"6\"}},[_c('b-pagination',{staticClass:\"my-0\",attrs:{\"id\":\"pages\",\"total-rows\":_vm.totalRows,\"per-page\":_vm.perPage,\"align\":\"fill\",\"size\":\"sm\"},model:{value:(_vm.currentPage),callback:function ($$v) {_vm.currentPage=$$v},expression:\"currentPage\"}})],1)],1):_c('LoadingSpinner')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"wide-wrapper\">\r\n    <h1>Directory</h1>\r\n    <div v-if=\"loaded\" id=\"contents\">\r\n      <b-modal\r\n        id=\"delete-pledge-modal\"\r\n        ref=\"modal\"\r\n        title=\"Delete Pledge\"\r\n        @ok=\"deletePledge()\"\r\n      >\r\n        <p>\r\n          Are you sure you want to delete pledge {{ this.toDeleteName }}? This\r\n          action cannot be undone.\r\n        </p>\r\n        <template #modal-footer=\"{ cancel, ok }\">\r\n          <b-button size=\"sm\" @click=\"cancel()\"> Cancel </b-button>\r\n          <b-button size=\"sm\" variant=\"danger\" @click=\"ok()\"> Delete </b-button>\r\n        </template>\r\n      </b-modal>\r\n\r\n      <b-col sm=\"7\" md=\"6\" class=\"my-1\">\r\n        <b-input-group size=\"sm\" id=\"search\">\r\n          <b-form-input\r\n            id=\"filter-input\"\r\n            v-model=\"filter\"\r\n            type=\"search\"\r\n            placeholder=\"Type to Search\"\r\n          ></b-form-input>\r\n          <b-button\r\n            class=\"select-button\"\r\n            size=\"sm\"\r\n            @click=\"showFilters = !showFilters\"\r\n            >{{ showFilters ? \"Hide Filters\" : \"Show Filters\" }}</b-button\r\n          >\r\n        </b-input-group>\r\n      </b-col>\r\n\r\n      <div v-if=\"showFilters\" class=\"row justify-content-center filters\">\r\n        <b-form-group\r\n          class=\"filter\"\r\n          id=\"input-group-1\"\r\n          label=\"Pledge/Brother:\"\r\n          label-for=\"input-1\"\r\n        >\r\n          <b-form-select\r\n            id=\"input-1\"\r\n            v-model=\"isPledge\"\r\n            :options=\"isPledgeOptions\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n        <b-form-group\r\n          class=\"filter\"\r\n          id=\"input-group-2\"\r\n          label=\"Status:\"\r\n          label-for=\"input-2\"\r\n        >\r\n          <b-form-select\r\n            id=\"input-2\"\r\n            v-model=\"brotherStatus\"\r\n            :options=\"brotherStatusOptions\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n        <b-form-group\r\n          class=\"filter\"\r\n          id=\"input-group-3\"\r\n          label=\"Pledge Class:\"\r\n          label-for=\"input-3\"\r\n        >\r\n          <b-form-select\r\n            id=\"input-3\"\r\n            v-model=\"pledgeClass\"\r\n            :options=\"pledgeClassOptions\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n        <b-form-group\r\n          class=\"filter\"\r\n          id=\"input-group-4\"\r\n          label=\"Major:\"\r\n          label-for=\"input-4\"\r\n        >\r\n          <b-form-select\r\n            id=\"input-4\"\r\n            v-model=\"major\"\r\n            :options=\"majorOptions\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n        <b-form-group\r\n          class=\"filter\"\r\n          id=\"input-group-5\"\r\n          label=\"Grad Year:\"\r\n          label-for=\"input-5\"\r\n        >\r\n          <b-form-select\r\n            id=\"input-5\"\r\n            v-model=\"gradYear\"\r\n            :options=\"gradYearOptions\"\r\n          ></b-form-select>\r\n        </b-form-group>\r\n      </div>\r\n\r\n      <b-table\r\n        striped\r\n        hover\r\n        :items=\"narrowedData\"\r\n        :fields=\"fields\"\r\n        :filter=\"filter\"\r\n        :filter-included-fields=\"filter_included_fields\"\r\n        stacked=\"md\"\r\n        show-empty\r\n        @filtered=\"onFiltered\"\r\n        :current-page=\"currentPage\"\r\n        :per-page=\"perPage\"\r\n      >\r\n        <template #cell(actions)=\"row\">\r\n          <b-button\r\n            class=\"select-button\"\r\n            size=\"sm\"\r\n            @click=\"viewStudent(row.item.id)\"\r\n          >\r\n            View\r\n          </b-button>\r\n          <b-button\r\n            class=\"select-button\"\r\n            v-if=\"$store.state.position != null\"\r\n            size=\"sm\"\r\n            @click=\"editStudent(row.item.id)\"\r\n          >\r\n            Edit\r\n          </b-button>\r\n          <b-button\r\n            class=\"select-button\"\r\n            v-if=\"$store.state.position != null && row.item.is_pledge == 1\"\r\n            size=\"sm\"\r\n            @click=\"\r\n              prepareDeletion(\r\n                row.item.id,\r\n                row.item.is_pledge,\r\n                row.item.name_first,\r\n                row.item.name_last\r\n              )\r\n            \"\r\n          >\r\n            Delete\r\n          </b-button>\r\n        </template>\r\n      </b-table>\r\n      <b-col sm=\"7\" md=\"6\" class=\"my-1\">\r\n        <b-pagination\r\n          id=\"pages\"\r\n          v-model=\"currentPage\"\r\n          :total-rows=\"totalRows\"\r\n          :per-page=\"perPage\"\r\n          align=\"fill\"\r\n          size=\"sm\"\r\n          class=\"my-0\"\r\n        ></b-pagination>\r\n      </b-col>\r\n    </div>\r\n    <LoadingSpinner v-else />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport LoadingSpinner from \"@/components/LoadingSpinner.vue\";\r\nexport default {\r\n  components: {\r\n    LoadingSpinner,\r\n  },\r\n  created() {\r\n    this.getStudents();\r\n  },\r\n  computed: {\r\n    narrowedData: function () {\r\n      return this.data.filter(this.filterData);\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      showFilters: false,\r\n      fields: [\r\n        {\r\n          key: \"roll_number\",\r\n          label: \"Roll\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"name_last\",\r\n          label: \"Last Name\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"name_first\",\r\n          label: \"First Name\",\r\n          sortable: true,\r\n        },\r\n        {\r\n          key: \"phone_number\",\r\n          label: \"Phone\",\r\n          sortable: false,\r\n        },\r\n        {\r\n          key: \"email\",\r\n          sortable: false,\r\n        },\r\n        { key: \"actions\", label: \"Actions\", sortable: false },\r\n      ],\r\n      data: [],\r\n      isPledgeOptions: [\r\n        { value: null, text: \"All\" },\r\n        { value: 1, text: \"Pledge\" },\r\n        { value: 0, text: \"Brother\" },\r\n      ],\r\n      isPledge: null,\r\n      brotherStatusOptions: [\r\n        { value: null, text: \"All\" },\r\n        { value: \"active\", text: \"Active\" },\r\n        { value: \"inactive\", text: \"Inactive\" },\r\n        { value: \"early alum\", text: \"Early Alum\" },\r\n        { value: \"alumni\", text: \"Alumni\" },\r\n      ],\r\n      brotherStatus: null,\r\n      pledgeClassOptions: [{ value: null, text: \"All\" }],\r\n      pledgeClass: null,\r\n      majorOptions: [\r\n        { value: null, text: \"All\" },\r\n        { value: \"Biomedical Engineering\", text: \"BME\" },\r\n        { value: \"Chemical and Life Science Engineering\", text: \"CLSE\" },\r\n        { value: \"Computer Engineering\", text: \"CE\" },\r\n        { value: \"Computer Science\", text: \"CS\" },\r\n        { value: \"Electrical Engineering\", text: \"EE\" },\r\n        { value: \"Mechanical Engineering\", text: \"MNE\" },\r\n      ],\r\n      major: null,\r\n      gradYearOptions: [{ value: null, text: \"All\" }],\r\n      gradYear: null,\r\n      totalRows: 1,\r\n      currentPage: 1,\r\n      perPage: 5,\r\n      filter: null,\r\n      filter_included_fields: [\"name_first\", \"name_middle\", \"name_last\"],\r\n      response: null,\r\n      error: null,\r\n      loaded: false,\r\n      toDeleteName: null,\r\n      toDeleteId: null,\r\n    };\r\n  },\r\n  methods: {\r\n    getStudents() {\r\n      axios\r\n        .get(this.$store.state.apiURL + \"read_students.php\", {\r\n          headers: { Authorization: this.$store.state.jwt },\r\n        })\r\n        .then((response) => {\r\n          this.data = response.data.body;\r\n          this.totalRows = this.data.length;\r\n          this.getFirstEmail();\r\n          this.appendGradYears();\r\n          this.getPledgeClasses();\r\n        })\r\n        .catch((error) => this.$root.$children[0].showError(error));\r\n    },\r\n    getFirstEmail() {\r\n      let i;\r\n      for (i = 0; i < this.totalRows; i++) {\r\n        this.data[i].email = this.data[i].emails.split(\",\")[0];\r\n      }\r\n    },\r\n    appendGradYears() {\r\n      let i;\r\n      for (i = new Date().getFullYear() + 5; i >= 1998; i--) {\r\n        this.gradYearOptions.push(i);\r\n      }\r\n    },\r\n    getPledgeClasses() {\r\n      axios\r\n        .get(this.$store.state.apiURL + \"read_pledge_classes.php\", {\r\n          headers: { Authorization: this.$store.state.jwt },\r\n        })\r\n        .then((response) => {\r\n          let i;\r\n          for (i = 0; i < response.data.body.length; i++) {\r\n            this.pledgeClassOptions.push(response.data.body[i].class_name);\r\n          }\r\n          this.loaded = true;\r\n        })\r\n        .catch((error) => this.$root.$children[0].showError(error));\r\n    },\r\n    filterData(student) {\r\n      let accept = true;\r\n      if (this.gradYear != null) {\r\n        accept = accept && student.grad_year == this.gradYear;\r\n      }\r\n      if (this.pledgeClass != null) {\r\n        accept = accept && student.pledge_class == this.pledgeClass;\r\n      }\r\n      if (this.isPledge != null) {\r\n        accept = accept && student.is_pledge == this.isPledge;\r\n      }\r\n      if (this.brotherStatus != null) {\r\n        accept = accept && student.brother_status == this.brotherStatus;\r\n      }\r\n      if (this.major != null) {\r\n        accept = accept && student.majors.includes(this.major);\r\n      }\r\n      return accept;\r\n    },\r\n    onFiltered(filteredItems) {\r\n      // Trigger pagination to update the number of buttons/pages due to filtering\r\n      console.log(this.filter);\r\n      this.totalRows = filteredItems.length;\r\n      this.currentPage = 1;\r\n    },\r\n    viewStudent(id) {\r\n      this.$router.push(\"/student/\" + id, () => {});\r\n    },\r\n    editStudent(id) {\r\n      this.$router.push(\"/edit/\" + id, () => {});\r\n    },\r\n    prepareDeletion(id, isPledge, firstName, lastName) {\r\n      if (isPledge == 0) {\r\n        console.log(\"Let's delete brother \" + id);\r\n      } else {\r\n        this.toDeleteName = firstName + \" \" + lastName;\r\n        this.toDeleteId = id;\r\n        this.$bvModal.show(\"delete-pledge-modal\");\r\n      }\r\n    },\r\n    deletePledge() {\r\n      // this.$bvModal.hide();\r\n      axios\r\n        .delete(\r\n          this.$store.state.apiURL + \"delete_pledge.php?id=\" + this.toDeleteId,\r\n          {\r\n            headers: { Authorization: this.$store.state.jwt },\r\n          }\r\n        )\r\n        .then((response) => {\r\n          let modalTitle = \"Pledge Deleted\";\r\n          let modalMessage = response.data;\r\n          this.$root.$children[0].showMessage(modalTitle, modalMessage);\r\n          this.getStudents();\r\n        })\r\n        .catch((error) => this.$root.$children[0].showError(error));\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.select-button {\r\n  margin: 0px 5px;\r\n}\r\n#buttons,\r\n#error,\r\n#response {\r\n  text-align: center;\r\n}\r\n#search,\r\n#pages {\r\n  margin-top: 20px;\r\n}\r\n#contents > * {\r\n  margin: auto;\r\n  margin-top: 20px;\r\n}\r\n.filters {\r\n  background-color: var(--ot-off-white);\r\n  border-radius: 10px;\r\n  padding: 15px;\r\n}\r\n.filter {\r\n  font-weight: bold;\r\n  font-size: 15px;\r\n  margin: 0px 10px;\r\n  min-width: 150px;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Directory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Directory.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Directory.vue?vue&type=template&id=c823cf4e&scoped=true&\"\nimport script from \"./Directory.vue?vue&type=script&lang=js&\"\nexport * from \"./Directory.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Directory.vue?vue&type=style&index=0&id=c823cf4e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c823cf4e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=style&index=0&id=046d5688&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"spinner-wrapper\"}},[_c('b-spinner',{staticStyle:{\"width\":\"3rem\",\"height\":\"3rem\"},attrs:{\"variant\":\"primary\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"spinner-wrapper\">\r\n    <b-spinner style=\"width: 3rem; height: 3rem\" variant=\"primary\"></b-spinner>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"LoadingSpinner\",\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n#spinner-wrapper {\r\n  text-align: center;\r\n}\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadingSpinner.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadingSpinner.vue?vue&type=template&id=046d5688&scoped=true&\"\nimport script from \"./LoadingSpinner.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadingSpinner.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LoadingSpinner.vue?vue&type=style&index=0&id=046d5688&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"046d5688\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}