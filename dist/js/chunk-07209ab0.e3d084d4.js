(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-07209ab0"],{"26d3":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"narrow-wrapper"},[s("h1",[t._v(t._s(t.$route.name))]),s("h4",[t._v("Change Password")]),s("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[s("b-form-group",{attrs:{id:"input-group-4","label-for":"input-4","invalid-feedback":"Password must be at least 8 characters long.",state:t.state1}},[s("b-form-input",{attrs:{id:"input-4",type:"password",placeholder:"New password",state:t.state1,required:""},on:{input:function(e){return t.updateState1()}},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),s("b-form-group",{attrs:{id:"input-group-5","label-for":"input-5","invalid-feedback":"Passwords don't match.",state:t.state2}},[s("b-form-input",{attrs:{id:"input-5",type:"password",placeholder:"Confirm password",state:t.state2,required:""},on:{input:function(e){return t.updateState2()}},model:{value:t.password_confirm,callback:function(e){t.password_confirm=e},expression:"password_confirm"}})],1),s("b-button",{attrs:{type:"submit",variant:"primary",disabled:t.submitDisabled}},[t._v("Submit")]),t.error?s("p",[t._v("Attempt to change password failed.")]):t._e(),t.error?s("p",[t._v(t._s(t.error))]):t._e()],1),s("h4",[t._v("Delete Account")]),t.deletePressed?s("div",{staticClass:"delete"},[s("p",[t._v(" Are you sure? You will need to re-register if you want to use the brother portal again. ")]),s("b-button",{staticClass:"delete-button",on:{click:t.deleteAccount}},[t._v("Yes, Delete My Account")])],1):s("div",[s("p",[t._v("Warning: this action is permanent")]),s("b-button",{staticClass:"delete delete-button",on:{click:t.deleteButton}},[t._v("Delete")])],1),t.deleteError?s("p",[t._v("Attempt to delete account failed.")]):t._e(),t.deleteError?s("p",[t._v(t._s(t.deleteError))]):t._e()],1)},o=[],a=s("bc3a"),n=s.n(a),i={computed:{submitDisabled:function(){return!this.state1||!this.state2}},data:function(){return{form:{email:this.$store.state.user,password:"",jwt:this.$store.state.jwt},deletePressed:!1,password_confirm:"",error:"",deleteError:"",state1:null,state2:null}},methods:{onSubmit:function(){var t=this;n.a.post(this.$store.state.apiURL+"update_user.php",JSON.stringify(this.form)).then((function(e){t.$root.$children[0].showSuccess(e.data.message),t.$store.commit("setJwt",e.data.jwt)})).catch((function(e){return t.error=e}))},deleteButton:function(){this.deletePressed=!0},deleteAccount:function(){var t=this;n.a.delete(this.$store.state.apiURL+"delete_user.php",{headers:{Authorization:this.$store.state.jwt}}).then((function(e){t.$root.$children[0].showSuccess(e.data.message),t.$store.commit("logout"),t.$router.push("/",(function(){}))})).catch((function(e){return t.deleteError=e}))},updateState1:function(){this.state1=this.form.password.length>=8,this.updateState2()},updateState2:function(){this.state2=this.form.password==this.password_confirm}}},u=i,d=(s("c1ef"),s("2877")),c=Object(d["a"])(u,r,o,!1,null,"5092e462",null);e["default"]=c.exports},"73af":function(t,e,s){},c1ef:function(t,e,s){"use strict";s("73af")}}]);
//# sourceMappingURL=chunk-07209ab0.e3d084d4.js.map