(function(t){function e(e){for(var a,o,u=e[0],c=e[1],s=e[2],l=0,d=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var u=n[o];0!==r[u]&&(a=!1)}a&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},o={app:0},r={app:0},i=[];function u(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-07209ab0":"e3d084d4","chunk-1fa476ba":"2e7b2ed3","chunk-2567fdb5":"3a9bba4c","chunk-2bba785f":"01154ab1","chunk-2d0d63f1":"88e8bbc1","chunk-2d0d6d35":"90e8e24e","chunk-2d22c101":"c685096b","chunk-2d71b4a2":"d638d5a8","chunk-35cbce1a":"9da063f1","chunk-3789d124":"c7454958","chunk-2d0aa22f":"90a2024f","chunk-2d0ab0f6":"977cdff3","chunk-2d237582":"903a7011","chunk-3fcfb34f":"528e291f","chunk-495132a0":"f2331f97","chunk-4e9223d4":"33024836","chunk-67f2a0d0":"931c365a","chunk-69837449":"30d66b58","chunk-69b1d298":"3eb3e30f","chunk-719d6588":"78efc99c","chunk-a090cb56":"a3f195bf","chunk-d5ac8560":"d12cfd34"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-07209ab0":1,"chunk-1fa476ba":1,"chunk-2567fdb5":1,"chunk-2bba785f":1,"chunk-2d71b4a2":1,"chunk-35cbce1a":1,"chunk-3789d124":1,"chunk-3fcfb34f":1,"chunk-495132a0":1,"chunk-4e9223d4":1,"chunk-67f2a0d0":1,"chunk-69837449":1,"chunk-69b1d298":1,"chunk-719d6588":1,"chunk-a090cb56":1,"chunk-d5ac8560":1};o[t]?e.push(o[t]):0!==o[t]&&n[t]&&e.push(o[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-07209ab0":"7380f37c","chunk-1fa476ba":"071070fc","chunk-2567fdb5":"33b2be34","chunk-2bba785f":"f8559743","chunk-2d0d63f1":"31d6cfe0","chunk-2d0d6d35":"31d6cfe0","chunk-2d22c101":"31d6cfe0","chunk-2d71b4a2":"91a0cdee","chunk-35cbce1a":"7b1c9772","chunk-3789d124":"447c16f1","chunk-2d0aa22f":"31d6cfe0","chunk-2d0ab0f6":"31d6cfe0","chunk-2d237582":"31d6cfe0","chunk-3fcfb34f":"15fe55b0","chunk-495132a0":"91e704fc","chunk-4e9223d4":"5e39621e","chunk-67f2a0d0":"29d11ca6","chunk-69837449":"fb662fac","chunk-69b1d298":"c06219f2","chunk-719d6588":"a79b4a82","chunk-a090cb56":"cfa532d5","chunk-d5ac8560":"a4f48a2f"}[t]+".css",r=c.p+a,i=document.getElementsByTagName("link"),u=0;u<i.length;u++){var s=i[u],l=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(l===a||l===r))return e()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],l=s.getAttribute("data-href");if(l===a||l===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var a=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete o[t],f.parentNode.removeChild(f),n(i)},f.href=r;var h=document.getElementsByTagName("head")[0];h.appendChild(f)})).then((function(){o[t]=0})));var a=r[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=i);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=u(t);var d=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/",c.oe=function(t){throw console.error(t),t};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var d=0;d<s.length;d++)e(s[d]);var f=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},4279:function(t,e,n){"use strict";n("b728")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"content"},[a("b-navbar",{attrs:{id:"navbar",toggleable:"lg",type:"dark"}},[a("b-navbar-brand",{attrs:{to:"/"}},[a("img",{staticClass:"d-inline-block align-top",attrs:{id:"nav-logo",src:n("ab75"),alt:"OT Shield"}}),t._v(" ΘΤ @ VCU")]),a("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),a("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[t.$store.state.loggedIn?a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/dashboard"}},[t._v("Dashboard")]),t.$store.state.isBrother?a("b-nav-item-dropdown",{attrs:{text:"Membership"}},[a("b-dropdown-item",{attrs:{to:"/directory"}},[t._v("Directory")]),a("b-dropdown-item",{attrs:{to:"/pledgeclasses"}},[t._v("Pledge Classes")]),a("b-dropdown-item",{attrs:{to:"/lineages"}},[t._v("Lineages")]),a("b-dropdown-item",{attrs:{to:"/officers"}},[t._v("Officers")])],1):a("b-nav-item",{attrs:{to:"/pledgedirectory"}},[t._v("Directory")]),null!=t.$store.state.position?a("b-nav-item-dropdown",{attrs:{text:"Actions"}},[a("b-dropdown-item",{attrs:{to:"/update-officers"}},[t._v("Update Officers")]),a("b-dropdown-item",{attrs:{to:"/create"}},[t._v("Create New Student")]),a("b-dropdown-item",{attrs:{to:"/initiate"}},[t._v("Initiate Pledges")])],1):t._e()],1):a("b-navbar-nav",[a("b-nav-item",{attrs:{to:"/"}},[t._v("Home")]),a("b-nav-item",{attrs:{to:"/about"}},[t._v("About")])],1),a("b-navbar-nav",{staticClass:"ml-auto"},[a("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:t._u([{key:"button-content",fn:function(){return[a("em",[t._v("Brother Portal")])]},proxy:!0}])},[t.$store.state.loggedIn?a("div",[a("b-dropdown-item",{attrs:{to:"/editprofile"}},[t._v("Edit Profile")]),a("b-dropdown-item",{attrs:{to:"/settings"}},[t._v("Settings")]),a("b-dropdown-item",{on:{click:t.logout}},[t._v("Sign Out")])],1):a("div",[a("b-dropdown-item",{attrs:{to:"/login"}},[t._v("Log In")]),a("b-dropdown-item",{attrs:{to:"/register"}},[t._v("Register")])],1)])],1)],1)],1),a("b-modal",{attrs:{title:t.notifyModalTitle,"hide-footer":""},model:{value:t.notifyModal,callback:function(e){t.notifyModal=e},expression:"notifyModal"}},[a("p",[t._v(t._s(t.notifyModalMessage))])]),a("b-modal",{attrs:{title:"Report a Bug","hide-footer":""},model:{value:t.reportBugModal,callback:function(e){t.reportBugModal=e},expression:"reportBugModal"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.bugSubmit(e)}}},[a("b-form-group",{attrs:{label:"Your email:","label-for":"email-input"}},[a("b-form-input",{attrs:{id:"email-input",type:"email",required:""},model:{value:t.bugReport.email,callback:function(e){t.$set(t.bugReport,"email",e)},expression:"bugReport.email"}})],1),a("b-form-group",{attrs:{label:"Please describe the bug you encountered:","label-for":"bug-textarea"}},[a("b-form-textarea",{attrs:{id:"bug-textarea",rows:"3","no-resize":"",required:""},model:{value:t.bugReport.text,callback:function(e){t.$set(t.bugReport,"text",e)},expression:"bugReport.text"}})],1),t.reportNotSent?a("p",{attrs:{id:"report-not-sent"}},[t._v(" There was an error sending your bug report. Please send an email to "),a("b-link",{attrs:{id:"bug-email-link",href:"mailto:admin@vcuthetatau.org"}},[t._v("admin@vcuthetatau.org")]),t._v(" describing your issue. ")],1):a("b-button",{attrs:{type:"submit",variant:"primary"}},[t._v("Submit")])],1)],1),a("router-view")],1),a("footer",{staticClass:"footer"},[a("b-row",[a("b-col"),a("b-col",{attrs:{id:"icons-col"}},[a("b-link",{staticClass:"icon-link",attrs:{href:"https://www.facebook.com/KGOTatVCU/",target:"_blank"}},[a("b-icon",{attrs:{icon:"facebook"}})],1),a("b-link",{staticClass:"icon-link",attrs:{href:"https://www.instagram.com/thetatauatvcu/",target:"_blank"}},[a("b-icon",{attrs:{icon:"instagram"}})],1),a("b-link",{staticClass:"icon-link",attrs:{href:"https://twitter.com/thetatauvcu/",target:"_blank"}},[a("b-icon",{attrs:{icon:"twitter"}})],1)],1),a("b-col",{attrs:{id:"bug-report-col"}},[a("b-link",{attrs:{id:"bug-report-link"},on:{click:function(e){return t.reportBug()}}},[t._v(" Report a bug ")])],1)],1)],1)])},r=[],i=n("bc3a"),u=n.n(i),c={data:function(){return{notifyModal:!1,notifyModalMessage:null,notifyModalTitle:null,reportBugModal:!1,reportNotSent:!1,bugReport:{email:null,text:null}}},beforeUpdate:function(){this.$store.state.loggedIn&&1e3*this.$store.state.jwtExpiration<=Date.now()&&this.timeout()},methods:{timeout:function(){this.logout(),this.showMessage("Session Expired","Your session has expired. Please log back in.")},logout:function(){this.$store.commit("logout"),this.$router.push("/",(function(){}))},editSelf:function(){this.$router.push("/edit/"+this.$store.state.id,(function(){}))},showError:function(t){this.notifyModalTitle="Error",this.notifyModalMessage=t,this.notifyModal=!0},showSuccess:function(t){this.notifyModalTitle="Success",this.notifyModalMessage=t,this.notifyModal=!0},showMessage:function(t,e){this.notifyModalTitle=t,this.notifyModalMessage=e,this.notifyModal=!0},reportBug:function(){this.$store.state.loggedIn&&this.$store.state.email&&(this.bugReport.email=this.$store.state.email),this.bugReport.text=null,this.reportNotSent=!1,this.reportBugModal=!0},bugSubmit:function(){var t=this;u.a.post(this.$store.state.apiURL+"report_bug.php",this.bugReport).then((function(e){t.reportBugModal=!1,t.showSuccess(e.data.message)})).catch((function(){t.reportNotSent=!0}))}}},s=c,l=(n("034f"),n("2877")),d=Object(l["a"])(s,o,r,!1,null,null,null),f=d.exports,h=(n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("caad"),n("2532"),n("b0c0"),n("8c4f")),b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"narrow-wrapper"},[a("h1",[t._v("Theta Tau at VCU")]),a("img",{attrs:{alt:"OT logo",src:n("ab75")}})])}],m=(n("4279"),{}),g=Object(l["a"])(m,b,p,!1,null,"6ec9fcb6",null),k=g.exports,v=(n("1276"),n("ac1f"),n("5319"),n("2f62"));a["default"].use(v["a"]);var w=new v["a"].Store({state:{apiURL:"http://localhost/",loggedIn:!1,email:null,id:null,jwt:null,jwtExpiration:null,firstName:null,lastName:null,isBrother:null,position:null},mutations:{setUser:function(t,e){var n=e.split(".")[1],a=n.replace("-","+").replace("_","/"),o=JSON.parse(atob(a));1e3*o.exp>Date.now()&&(t.loggedIn=!0,t.email=o.data.email,t.id=o.data.id,t.jwt=e,t.jwtExpiration=o.exp,t.firstName=o.data.name_first,t.lastName=o.data.name_last,t.isBrother=o.data.is_brother,t.position=o.data.position,localStorage.setItem("kappa-gamma-jwt",e))},logout:function(t){t.loggedIn=!1,t.email=null,t.id=null,t.jwt=null,t.jwtExpiration=null,t.firstName=null,t.lastName=null,t.isBrother=null,t.position=null,localStorage.removeItem("kappa-gamma-jwt")}},actions:{},modules:{}});a["default"].use(h["a"]);var y=[{path:"/",name:"Home",component:k},{path:"/about",name:"About",component:function(){return n.e("chunk-495132a0").then(n.bind(null,"f820"))}},{path:"/login",name:"Log In",component:function(){return n.e("chunk-719d6588").then(n.bind(null,"a55b"))}},{path:"/login/:redirect",name:"Log In Redirect",component:function(){return n.e("chunk-719d6588").then(n.bind(null,"a55b"))}},{path:"/register",name:"Register",component:function(){return n.e("chunk-2d0d6d35").then(n.bind(null,"73cf"))}},{path:"/forgotpassword",name:"Forgot Password",component:function(){return n.e("chunk-2d22c101").then(n.bind(null,"f243"))}},{path:"/resetpassword/:id/:verify_hash",name:"Reset Password",component:function(){return n.e("chunk-4e9223d4").then(n.bind(null,"0813"))}},{path:"/verify/:id/:verify_hash",name:"Verify",component:function(){return n.e("chunk-67f2a0d0").then(n.bind(null,"b6d1"))}},{path:"/dashboard",name:"Dashboard",component:function(){return n.e("chunk-2d0d63f1").then(n.bind(null,"7277"))}},{path:"/settings",name:"Settings",component:function(){return n.e("chunk-07209ab0").then(n.bind(null,"26d3"))}},{path:"/editprofile",name:"Edit Profile",component:function(){return Promise.all([n.e("chunk-3789d124"),n.e("chunk-2d237582")]).then(n.bind(null,"fb5e"))}},{path:"/directory",name:"Directory",component:function(){return n.e("chunk-69b1d298").then(n.bind(null,"66d6"))}},{path:"/pledgedirectory",name:"Pledge Directory",component:function(){return n.e("chunk-1fa476ba").then(n.bind(null,"b591"))}},{path:"/student/:id",name:"Student",component:function(){return n.e("chunk-d5ac8560").then(n.bind(null,"448f"))}},{path:"/edit/:id",name:"Edit Student",component:function(){return Promise.all([n.e("chunk-3789d124"),n.e("chunk-2d0aa22f")]).then(n.bind(null,"1071"))}},{path:"/create",name:"Create Student",component:function(){return Promise.all([n.e("chunk-3789d124"),n.e("chunk-2d0ab0f6")]).then(n.bind(null,"1452"))}},{path:"/pledgeclasses",name:"Pledge Classes",component:function(){return n.e("chunk-2d71b4a2").then(n.bind(null,"5413"))}},{path:"/officers",name:"Officers",component:function(){return n.e("chunk-2567fdb5").then(n.bind(null,"dff4"))}},{path:"/update-officers",name:"Update Officers",component:function(){return n.e("chunk-3fcfb34f").then(n.bind(null,"7260"))}},{path:"/lineage/:id",name:"Lineage",component:function(){return n.e("chunk-69837449").then(n.bind(null,"a71c"))}},{path:"/lineages",name:"Lineages",component:function(){return n.e("chunk-35cbce1a").then(n.bind(null,"ad2b"))}},{path:"/pledgeclass/:id",name:"Pledge Class",component:function(){return n.e("chunk-2bba785f").then(n.bind(null,"9b44"))}},{path:"/initiate",name:"Initiate Pledges",component:function(){return n.e("chunk-a090cb56").then(n.bind(null,"0c4f"))}}],_=new h["a"]({routes:y}),S=["Edit Student","Create Student","Initiate Pledges","Update Officers"],M=S.concat(["Directory","Pledge Classes","Pledge Class","Officers","Lineage","Lineages"]),x=M.concat(["Dashboard","Student","Settings","Edit Profile","Pledge Directory"]);_.beforeEach((function(t,e,n){if(!w.state.loggedIn){var a=localStorage.getItem("kappa-gamma-jwt");a&&w.commit("setUser",a)}x.includes(t.name)&&!w.state.loggedIn?n({path:"/login"+t.path}):M.includes(t.name)&&!w.state.isBrother||S.includes(t.name)&&null==w.state.position?n({name:"Dashboard"}):n()}));var P=_,C=n("5f5b"),E=n("b1e0"),O=(n("4989"),n("ab8b"),n("2dd8"),n("5350")),j=n("452f"),T=n.n(j);n("2bbe"),n("2ff8");a["default"].component("vue-single-select",O["a"]),window.Raphael=T.a,a["default"].use(C["a"]),a["default"].use(E["a"]),a["default"].config.productionTip=!1,new a["default"]({router:P,store:w,render:function(t){return t(f)}}).$mount("#app")},"85ec":function(t,e,n){},ab75:function(t,e,n){t.exports=n.p+"img/ThetaTauLogo.f013ddc4.png"},b728:function(t,e,n){}});
//# sourceMappingURL=app.fa0b37ce.js.map