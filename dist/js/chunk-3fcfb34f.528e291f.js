(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3fcfb34f"],{"03cf":function(t,e,i){},"159b":function(t,e,i){var r=i("da84"),n=i("fdbc"),o=i("17c2"),c=i("9112");for(var s in n){var a=r[s],f=a&&a.prototype;if(f&&f.forEach!==o)try{c(f,"forEach",o)}catch(u){f.forEach=o}}},"17c2":function(t,e,i){"use strict";var r=i("b727").forEach,n=i("a640"),o=n("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},7260:function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wide-wrapper"},[i("h1",[t._v("Update Officers")]),t.loaded?i("div",t._l(t.officers,(function(e){return i("b-card",{key:e.office,staticClass:"edit-student-card"},[i("b-form",[i("div",{staticClass:"row"},[i("p",{staticClass:"officer-label"},[i("strong",[t._v(t._s(e.office))])]),i("vue-single-select",{staticClass:"officer-select",attrs:{options:t.actives,"option-key":"id",optionValue:"id",required:"",getOptionDescription:t.getCustomDescription},model:{value:e.brother,callback:function(i){t.$set(e,"brother",i)},expression:"officer.brother"}}),i("b-form-checkbox",{staticClass:"mb-2 mr-sm-2 mb-sm-0 officer-checkbox",model:{value:e.display_publicly,callback:function(i){t.$set(e,"display_publicly",i)},expression:"officer.display_publicly"}},[t._v("Show on About page")]),i("b-button",{staticClass:"officer-button",attrs:{variant:"primary"},on:{click:function(i){return t.save(e.office)}}},[t._v("Save Changes")])],1)])],1)})),1):i("LoadingSpinner")],1)},n=[],o=(i("159b"),i("7db0"),i("bc3a")),c=i.n(o),s=i("d76c"),a={components:{LoadingSpinner:s["a"]},created:function(){var t=this;c.a.get(this.$store.state.apiURL+"read_officers_internal.php",{headers:{Authorization:this.$store.state.jwt}}).then((function(e){t.officers=e.data.body,t.officers.forEach((function(t){return t.display_publicly=1==t.display_publicly})),t.getActives()})).catch((function(e){t.loaded=!0,t.$root.$children[0].showError(e)}))},data:function(){return{officers:null,actives:null,newOfficer:null,loaded:!1}},methods:{getActives:function(){var t=this;c.a.get(this.$store.state.apiURL+"read_active.php",{headers:{Authorization:this.$store.state.jwt}}).then((function(e){t.actives=e.data.body,t.officers.forEach((function(e){null!=e.id&&(e.brother=t.actives.find((function(t){return t.id==e.id})))})),t.loaded=!0})).catch((function(e){t.loaded=!0,t.$root.$children[0].showError(e)}))},getCustomDescription:function(t){return t.name_first+" "+t.name_last},save:function(t){var e=this;this.newOfficer=this.officers.find((function(e){return e.office==t})),this.newOfficer.id=this.newOfficer.brother?this.newOfficer.brother.id:null,null!=this.newOfficer.id&&this.officers.find((function(t){return t.id==e.newOfficer.id&&t.office!=e.newOfficer.office}))?(this.newOfficer=null,this.$root.$children[0].showError("One brother may not hold multiple positions.")):c.a.post(this.$store.state.apiURL+"update_officer.php",this.newOfficer,{headers:{Authorization:this.$store.state.jwt}}).then((function(t){t.data.success?e.$root.$children[0].showSuccess(t.data.message):e.$root.$children[0].showError(t.data.message)})).catch((function(t){return e.$root.$children[0].showError(t)}))}}},f=a,u=(i("9559"),i("2877")),d=Object(u["a"])(f,r,n,!1,null,"a6d6f376",null);e["default"]=d.exports},"7db0":function(t,e,i){"use strict";var r=i("23e7"),n=i("b727").find,o=i("44d2"),c="find",s=!0;c in[]&&Array(1)[c]((function(){s=!1})),r({target:"Array",proto:!0,forced:s},{find:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),o(c)},9559:function(t,e,i){"use strict";i("ef9d")},a640:function(t,e,i){"use strict";var r=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&r((function(){i.call(null,e||function(){throw 1},1)}))}},ac45:function(t,e,i){"use strict";i("03cf")},d76c:function(t,e,i){"use strict";var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"spinner-wrapper"}},[i("b-spinner",{staticStyle:{width:"3rem",height:"3rem"},attrs:{variant:"primary"}})],1)},n=[],o={name:"LoadingSpinner"},c=o,s=(i("ac45"),i("2877")),a=Object(s["a"])(c,r,n,!1,null,"046d5688",null);e["a"]=a.exports},ef9d:function(t,e,i){}}]);
//# sourceMappingURL=chunk-3fcfb34f.528e291f.js.map